import"./modulepreload-polyfill-xVUEmHkd.js";import{d as x}from"./_plugin-vue_export-helper-DbWluJVK.js";import{c as A,a as B,f as D}from"./unhandledErrorHandler-Bxfeq5I8.js";import{i as L}from"./i18n-DOZcdwWT.js";import{B as N}from"./BaseHeader-DOsPTEtD.js";import{B as y}from"./Button-BiW9ff6I.js";import{b as E}from"./autofillFunctions-CVxus-se.js";import{U as T,V as z,a2 as l,a0 as g,a9 as M,X as O,$ as f,Z as t,Y as w,a5 as h,aT as S,b0 as V,aV as Y,ag as j,W as q,_ as W}from"./Settings-Bqkr9m9-.js";const P={class:"autofill-warning-app"},X={class:"content-wrapper"},Z=T({__name:"AutofillWarningApp",setup($){const{t:p}=z(),u=l(),R=A(),s=l(!1),_=l(null),d=l(""),v=l(""),U=g(()=>s.value?"autofill_on_insecure_origin_warning_warning_text.message":"autofill_from_different_subdomain_warning_text.message"),C=g(()=>{let e=s.value?"autofill_on_insecure_origin_warning_title.message":"app_default_title.message";return p(e)}),I=g(()=>{let e=s.value?"autofill_on_insecure_origin_warning_warning_proceed.message":"autofill_from_different_subdomain_warning_proceed.message";return p(e)}),k=g(()=>{let e=s.value?"autofill_on_insecure_origin_warning_warning_cancel.message":"autofill_from_different_subdomain_warning_cancel.message";return p(e)}),b=()=>{S(u.value,i,{}),V(u.value,i)},c=new URLSearchParams(window.location.search),i=parseInt(c.get("frameId"),10);return M(async()=>{var o;const e=c.get("docUuid")??"",a=((o=c.get("isInsecureWarning"))==null?void 0:o.toLowerCase())==="true",r=c.get("entryDomain");if(chrome.tabs.query({active:!0,currentWindow:!0},m=>{u.value=m[0].id}),i>=0){const m=await E([i]);if(m){const n=new URL(m);v.value=a?n.origin:n.host}if(r)try{const n=new URL(r);d.value=a?n.origin:n.host}catch{d.value=r}}e&&(_.value=await R.getDocumentWithSecrets(e)),s.value=a}),(e,a)=>{const r=j("i18n-t");return q(),O("div",P,[f(N,{text:t(C),onClose:a[0]||(a[0]=o=>b())},null,8,["text"]),w("div",X,[f(r,{tag:"p",keypath:t(U),scope:"global"},{ENTRY_DOMAIN:h(()=>[w("b",null,W(t(d)),1)]),CURRENT_DOMAIN:h(()=>[w("b",null,W(t(v)),1)]),_:1},8,["keypath"]),f(y,{id:"proceedButton",label:t(I),size:"sm",onClick:a[1]||(a[1]=o=>(async()=>{_.value&&_.value.type==="login"&&await Y(u.value,i,{document:_.value})})())},null,8,["label"]),f(y,{class:"mt-15",id:"cancelButton",label:t(k),type:"secondary",size:"sm",onClick:a[2]||(a[2]=o=>b())},null,8,["label"])])])}}});B("autofillWarning"),x(Z).use(L).use(D()).mount("#app");
